<!DOCTYPE html>
<html lang="en">
<head>
    <title>new project</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <meta itemprop="name" content="new project">
    <meta itemprop="description" content="made with cables">
    <meta itemprop="image" content="screenshot.png">
    <meta name="description" content="made with cables" />

    <style>
        body {
            font-family: Helvetica, Arial, sans-serif;
        }
        canvas {
            display: block;
            position: absolute;
        }
        pre
        {
            background-color: #ddd;
            padding:15px;
            display:inline-block;
        }
    </style>

</head>
<body>

    <h3>Initializing variables when loading</h3>
    At load time the variable array "participants" is set to new values in the CABLES.patch constructor:
    <br/><br/>
    <pre>
    CABLES.patch = new CABLES.Patch({
        ...
        "variables":
        {
            "participants":["peter","fritz","helmut"]
        }
    });
    </pre>
    <br/><br/>
    in the original patch the values would be "hund,katze,maus" but on this page they are replaced with "peter,fritz,helmut" in the beginning.
    <br/><br/>
    open <a href="https://dev.cables.gl/edit/--KwYa">original patch</a>
    <br/><br/>

    <canvas id="glcanvas" width="800" height="600"></canvas>

    <libs/>
    <script type="text/javascript" src="js/patch.js" async></script>
    <corelibs/>

    <script>

        function showError(errId, errMsg) {
            alert('An error occured: ' + errId + ', ' + errMsg);
        }

        document.addEventListener('CABLES.jsLoaded', function(event) {
            CABLES.patch = new CABLES.Patch({
                patch: CABLES.exportedPatch,
                prefixAssetPath: '',
                glCanvasId: 'glcanvas',
                glCanvasResizeToWindow: false,
                onError: showError,
                variables:
                {
                    "participants":["peter","fritz","helmut"]
                }
            });
        });
    </script>
</body>
</html>
