<!DOCTYPE html>
<html lang="en">
<head>
    <title>Vars GetSet</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1">
    <meta itemprop="name" content="new project">
    <meta itemprop="description" content="made with cables">
    <meta itemprop="image" content="screenshot.png">
    <meta name="description" content="made with cables" />

    <style>
        body {
            font-family: Helvetica, Arial, sans-serif;
        }
        canvas {
            display: block;
            position: absolute;
        }
        pre
        {
            background-color: #ddd;
            padding:15px;
            display:inline-block;
        }

        .value
        {
            background-color: #ddd;
            padding:10px;
        }

    </style>

</head>
<body>

    <h2>Trigger and Functions</h2>

    <h3>Triggering from outside</h3>

    Triggers are basically just functions. 
    <br/>
    click this to toggle a boolean via a trigger: <input type="button" value="button" onclick="CABLES.patch.config.patchFunctiontrigger();"/> 
    <br/><br/>
    Ops.Patch.Function op creates a javascript function in CABLES.patch.config
    <br/>
    you can just call this:
    <br/>

    <pre>
CABLES.patch.config.patchFunctiontrigger();
    </pre>

    <h3>Calling functions from cables patch</h3>

    calling functions by triggering from cables is done using the op Ops.Patch.CallBack 
    <br/><br/>
    <pre>
    function myFunction()
    {
        alert("function called!");
    }

    CABLES.patch = new CABLES.Patch({
        //...
        outSidefunction:myFunction
    });
    </pre>

    <br/><br/>

    open <a href="https://cables.gl/edit/r5MrZa">original patch</a>
    <br/><br/>

    <canvas id="glcanvas" width="800" height="400"></canvas>

    <libs/>
    <script type="text/javascript" src="js/patch.js" async></script>
    <corelibs/>

    <script>

        function showError(errId, errMsg) {
            alert('An error occured: ' + errId + ', ' + errMsg);
        }

        function myFunction()
        {
            alert("function called!");
        }

        document.addEventListener('CABLES.jsLoaded', function(event) {
            CABLES.patch = new CABLES.Patch({
                patch: CABLES.exportedPatch,
                prefixAssetPath: '',
                glCanvasId: 'glcanvas',
                glCanvasResizeToWindow: false,
                onError: showError,
                outSidefunction:myFunction
            });

            


        });
    </script>
</body>
</html>
